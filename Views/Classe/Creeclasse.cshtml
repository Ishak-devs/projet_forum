@model Forum.Models.ClasseViewModel
@{
    <form method="post">

        <label asp-for="Classe">Classe :</label>
        <input type="text" asp-for="Classe" />
        <span style="color: red">@Html.ValidationMessageFor(c => c.Classe)</span>

        <select asp-for="id_eleve" asp-items="Model.Eleves">
            <option value="">Sélectionnez des élèves</option>
        </select>

        <input type="hidden" asp-for="Eleveschoisis" value="@string.Join(",", Model.Eleveschoisis)" />
        <button type="submit" name="ajout_eleve" value="ajouter">Ajouter</button>
    </form>
    <br />
    <br />
    // if (ViewBag.Message_eleve != null)
    // {
    //     <p style="color: green">@ViewBag.Message_eleve</p>
    //     <p>@string.Join(", ", Model.Eleveschoisis)</p> On affiche les int de elevechoisis grace à string join.
    // }
            // <p>@Model.Eleveschoisis</p>

    // }




    @foreach (var eleve in Model.Eleveschoisis)
    {
        <li>@eleve</li>
    }


}
@*     @if (Model.Eleveschoisis == null || !Model.Eleveschoisis.Any())  *@
@*     { *@
@*         <p>Aucun élève n'a été ajouté.</p> *@

@*     } *@
@*     else { *@
@*         <ul> *@
@*         @foreach (var id_eleve in Model.Eleveschoisis)  *@

@*             { *@
@*                   if (Model.Eleves != null) *@
@*                   { *@


@*                 var eleve = Model.Eleves.FirstOrDefault(e => e.Value == id_eleve.ToString());  *@
@*                 if (eleve != null)  *@
@*                 { *@
@*                     <li>@eleve.Text</li>   *@
@*                 } *@

@*                 } *@
@*     } *@
@* </ul> *@
@*     } *@
























